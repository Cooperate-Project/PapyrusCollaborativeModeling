target "Compare Target Platform - Release, Tests" with requirements

include "compare-release-base.tpd"

location "https://hudson.eclipse.org/papyrus/job/Papyrus-Master-Developer/lastSuccessfulBuild/artifact/repository/" {
	org.eclipse.papyrus.junit.utils lazy
	org.eclipse.papyrus.junit.framework lazy
}

//For the tests, we need a nightly version of some Papyrus plugins, as breaking changes have been 
//introduced between Oxygen.1 (Release) and Oxygen.2 (Nightly)
//Papyrus test framework is only available as a Nightly, and depends on these breaking changes
location papyrusNightly "http://download.eclipse.org/modeling/mdt/papyrus/updates/nightly/oxygen" {
	//Override Papyrus units from compare-release.tpd, to make sure we pull the nightly
	org.eclipse.papyrus.sdk.feature.feature.group lazy
	
	//That's the feature we explicitly need, for the Papyrus junit.utils to work
 	org.eclipse.papyrus.infra.nattable.feature.feature.group lazy
}

//Transitive dependency for Papyrus Nightly (Will be released in Oxygen.2 but is not yet present in Oxygen.1)
location xwt "http://download.eclipse.org/xwt/updates" {
	org.eclipse.xwt.feature.feature.group [1.3.1,2.0.0)
}


//required for Compare test ProfileMigrationTest 
location sysml "http://download.eclipse.org/modeling/mdt/papyrus/components/sysml14/oxygen" {
	org.eclipse.papyrus.sysml14 
}

location emfCompare "http://download.eclipse.org/modeling/emf/compare/updates/releases/3.3" {
	org.eclipse.emf.compare.tests.source.feature.group  
	org.eclipse.emf.compare.uml2.source.feature.group
	org.eclipse.emf.compare.rcp.ui.feature.group 
}