target "Compare Target Platform - Release, Tests" with source requirements

include "compare-release-base.tpd"

location "https://hudson.eclipse.org/papyrus/job/Papyrus-Master-Developer/lastSuccessfulBuild/artifact/repository/" {
	org.eclipse.papyrus.junit.utils lazy
	org.eclipse.papyrus.junit.framework lazy
}

//For the tests, we need a nightly version of some Papyrus plugins, as breaking changes have been 
//introduced between Oxygen.1 (Release) and Oxygen.2 (Nightly)
//Papyrus test framework is only available as a Nightly, and depends on these breaking changes
location papyrusNightly "http://download.eclipse.org/modeling/mdt/papyrus/updates/nightly/oxygen" {
	//Override Papyrus units from compare-release.tpd, to make sure we pull the nightly
	org.eclipse.papyrus.sdk.feature.feature.group lazy
	
	//That's the feature we explicitly need, for the Papyrus junit.utils to work
 	org.eclipse.papyrus.infra.nattable.feature.feature.group lazy
}

//Transitive dependency for Papyrus Nightly (Will be released in Oxygen.2 but is not yet present in Oxygen.1)
location xwt "http://download.eclipse.org/xwt/updates" {
	org.eclipse.xwt.feature.feature.group [1.3.1,2.0.0)
}


// Required for Compare test ProfileMigrationTest and Architecture Framework support tests
// NOTE that this is a volatile Hudson build archive. It should be replaced by a release
// build ASAP!  This is only even remote feasible because it is a tests-only dependency.
location sysml "https://hudson.eclipse.org/papyrus/job/papyrus-sysml-oxygen/lastStableBuild/artifact/releng/org.eclipse.papyrus.sysml14.p2/target/repository/" {
	org.eclipse.papyrus.sysml14.feature.feature.group lazy
}

location emfCompare "http://download.eclipse.org/modeling/emf/compare/updates/logical/emf.compare/integration/" {
	org.eclipse.emf.compare.tests.source.feature.group lazy
	org.eclipse.emf.compare.uml2.source.feature.group lazy
}
